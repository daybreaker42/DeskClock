# DeskClock 프로젝트

## 탁상시계 DIY - 기능
- 현재 시각, 날씨 보여주는 탁상 시계
- 가속도센서로 특정 움직임을 인식해 화면off / 현재 시각+날씨 / 타이머 모드 / 스톱워치 모드 로 전환됨
    - yaw가 특정 각도 이상 넘어갔다 돌아오면 해당 방향으로 화면(기능) 전환
    - 타이머 설정 시 pitch 각도에 이용해 세부 시간 설정 가능
- 시간 단위는 GMT+9, 24시간 형식. 온도는 섭씨 단위계 사용.

### 세부 기능 설명
- 전원off모드 - 디스플래이 화면off.
- 현재시각+날씨 모드
    - 기기 시작 시 NTP서버에 요청을 보내 현재 시각 받아와 RTC모듈에 있는 시간 차이 해소
    - 기기 시작 이후엔 RTC모듈에 있는 시각 가져와 사용
    - 첫 줄에 현재 시각을 표시 (`MM/dd {요일} hh:mm`; (예) `01/31 월 07:13`)
    - 둘째 줄에 날씨를 표시 (아침~저녁: 남은 날 날씨, 저녁~익일 아침: 익일 오전 날씨)
        - 형식: `{일일최저온도}/{일일최고온도} {한 단어 설명} {우산 필요 여부} 기압`
        - 예시: `-13/25 맑음 X 1015`
        - 예시: `-13/25 비 O 1015`
        - 예시: `-13/25 태풍 O 1015`
        - 예시: `-13/25 더움 X 1015`
        - 예시: `-13/25 지옥 X 1015`

- 타이머 모드
    - 최대 23시간 59분 59초까지 허용
    - 위의 가변 저항을 돌려 시간 설정
        - 현재 위치한 pitch값에 따라 올라가는 단위 달라짐: 15분 / 5분 / 1분
    - 출력 예시
    ```
    # 출력 형식
    TIMER / {남은 시간}
    {진행 상황}

    # 출력 예시
    TIMER | 00:00:00
    [===___________]
    ```

- 스톱워치 모드 (타이머 구현 이후에 구현)
    - 최대 23시간 59분 59초까지 허용
    - 초단위 카운트
    ```
    # 출력 형식
    SWTCH | {진행 시간}
    {이전 랩타임} {랩타임 차이} / 없으면 `--- LAP TIME ---`

    # 출력 예시
    SWTCH | 01:57:13
    --- LAP TIME ---

    # 출력 예시 - 랩타임 x
    SWTCH | 01:57:13
    00:17:01 +000000
    
    # 출력 예시 - 랩타임 측정
    SWTCH | 01:57:13
    00:34:15 +003415
    
    # 출력 예시 - 랩타임 재측정
    SWTCH | 01:57:13
    01:04:25 +003010
    ```

## 사용 모듈
- Node MCU esp 8266
- LCD 1602 I2C display (16*2 글자 표시 가능)
- 아두이노 rtc 모듈
- 가속도 센서 MPU-6050
- 온습도 센서 DHT22
- 가변저항 WH148 3P

## 참고자료
- NodeMCU 사용해보기 - <https://blog.naver.com/PostView.naver?blogId=ioizzzzzz&logNo=220875223793>
- node mcu esp 8266 - <https://blog.naver.com/PostView.nhn?blogId=roboholic84&logNo=221187841348>
- NodeMCU docs - <https://nodemcu.readthedocs.io/en/release/>